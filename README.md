# Digital Diary

[![Version](https://img.shields.io/badge/version-0.1.0-blue.svg)](https://github.com/yourusername/digital-diary)
[![Tauri](https://img.shields.io/badge/Tauri-2.x-FFC131?logo=tauri)](https://tauri.app)
[![React](https://img.shields.io/badge/React-18-61DAFB?logo=react)](https://react.dev)
[![Rust](https://img.shields.io/badge/Rust-1.75+-000000?logo=rust)](https://www.rust-lang.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

ä¸€ä¸ªåŸºäº Tauri çš„æ¡Œé¢æ—¶é—´è·Ÿè¸ªåº”ç”¨ï¼Œå…·å¤‡è‡ªåŠ¨æˆªå›¾å’Œçª—å£æ´»åŠ¨æ•è·åŠŸèƒ½ã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

- âœ… **å¯è§†åŒ–æ—¶é—´è½´**: 24å°æ—¶æ¨ªå‘æ—¶é—´è½´ï¼Œç›´è§‚æ˜¾ç¤ºä¸€å¤©çš„æ—¶é—´åˆ†é…
- âœ… **æ‹–æ‹½åˆ›å»ºæ¡ç›®**: åœ¨æ—¶é—´è½´ä¸Šæ‹–æ‹½é€‰æ‹©æ—¶é—´èŒƒå›´ï¼Œå¿«é€Ÿåˆ›å»ºæ—¶é—´æ¡ç›®
- âœ… **è‡ªåŠ¨æˆªå›¾æ•è·**: æ¯5åˆ†é’Ÿè‡ªåŠ¨æ•è·å±å¹•æˆªå›¾ï¼ˆåå°è¿è¡Œï¼‰
- âœ… **çª—å£æ´»åŠ¨æ•è·**: æ¯åˆ†é’Ÿè®°å½•å½“å‰æ´»åŠ¨çª—å£æ ‡é¢˜å’Œè¿›ç¨‹å
- âœ… **ç©ºé—²æ£€æµ‹**: æ£€æµ‹5åˆ†é’Ÿä»¥ä¸Šçš„ç©ºé—²æ—¶é—´ï¼Œæ”¯æŒå¤šç§å¤„ç†æ–¹å¼
- âœ… **æ´»åŠ¨æœç´¢**: å…¨æ–‡æœç´¢æ—¶é—´æ¡ç›®å’Œçª—å£æ´»åŠ¨
- âœ… **æ•°æ®å¯¼å‡º**: å¯¼å‡ºæ‰€æœ‰æ•°æ®ä¸º JSON æ ¼å¼
- âœ… **æ—¥æœŸå¯¼èˆª**: è½»æ¾æµè§ˆä¸åŒæ—¥æœŸçš„æ—¶é—´è®°å½•
- âœ… **æˆªå›¾é¢„è§ˆ**: é¼ æ ‡æ‚¬åœæ—¶é—´è½´æŸ¥çœ‹å¯¹åº”æ—¶é—´ç‚¹çš„æˆªå›¾

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - UI æ¡†æ¶
- **TypeScript 5.x** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **Zustand** - çŠ¶æ€ç®¡ç†
- **Tanstack Query** - æ•°æ®è·å–å’Œç¼“å­˜
- **Lucide React** - å›¾æ ‡åº“

### åç«¯
- **Rust** - ç³»ç»Ÿç¼–ç¨‹è¯­è¨€
- **Tauri 2.x** - æ¡Œé¢åº”ç”¨æ¡†æ¶
- **SQLite** - åµŒå…¥å¼æ•°æ®åº“
- **Tokio** - å¼‚æ­¥è¿è¡Œæ—¶
- **rusqlite** - SQLite ç»‘å®š

### Windows API
- **windows-rs** - Windows API ç»‘å®š
- **windows-capture** - å±å¹•æˆªå›¾æ•è·
- **rdev** - è¾“å…¥äº‹ä»¶ç›‘å¬ï¼ˆç©ºé—²æ£€æµ‹ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- **Node.js** 20+ 
- **Rust** 1.75+
- **Windows** 10/11

### å®‰è£…æ­¥éª¤

```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd toggl_like

# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£… Tauri CLI
npm install -g @tauri-apps/cli
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆåŒæ—¶è¿è¡Œå‰ç«¯å’Œåç«¯ï¼‰
npm run tauri:dev
```

### ç”Ÿäº§æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run tauri:build

# è¾“å‡ºç›®å½•: src-tauri/target/release/bundle/
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
toggl_like/
â”œâ”€â”€ src/                          # React å‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/               # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ capture/              # æ•è·çŠ¶æ€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ export/               # å¯¼å‡ºåŠŸèƒ½ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ idle/                 # ç©ºé—²æç¤ºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ search/               # æœç´¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ timeline/             # æ—¶é—´è½´ç»„ä»¶
â”‚   â”œâ”€â”€ pages/                    # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ TimelineView.tsx      # ä¸»æ—¶é—´è½´é¡µé¢
â”‚   â”œâ”€â”€ services/                 # æœåŠ¡å’ŒçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api.ts                # Tauri å‘½ä»¤å°è£…
â”‚   â”‚   â”œâ”€â”€ store.ts              # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ types.ts              # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ App.tsx                   # åº”ç”¨ä¸»ç»„ä»¶
â”‚   â””â”€â”€ main.tsx                  # åº”ç”¨å…¥å£
â”œâ”€â”€ src-tauri/                    # Rust åç«¯æºç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ data/                 # æ•°æ®åº“å’Œ CRUD æ“ä½œ
â”‚   â”‚   â”‚   â”œâ”€â”€ database.rs       # æ•°æ®åº“åˆå§‹åŒ–å’Œè¿æ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ time_entries.rs   # æ—¶é—´æ¡ç›® CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ screenshot.rs     # æˆªå›¾æ•°æ®ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ window_activity.rs# çª—å£æ´»åŠ¨ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ idle.rs           # ç©ºé—²æ—¶é—´ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ search.rs         # æœç´¢åŠŸèƒ½
â”‚   â”‚   â”‚   â””â”€â”€ export.rs         # æ•°æ®å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ capture/              # æ•è·æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ screenshot.rs     # æˆªå›¾æ•è·å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ window.rs         # çª—å£ä¿¡æ¯æ•è·
â”‚   â”‚   â”œâ”€â”€ idle/                 # ç©ºé—²æ£€æµ‹æ¨¡å—
â”‚   â”‚   â”‚   â””â”€â”€ detection.rs      # ç©ºé—²æ£€æµ‹å®ç°
â”‚   â”‚   â”œâ”€â”€ types.rs              # Rust ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ lib.rs                # åº“å…¥å£
â”‚   â”‚   â””â”€â”€ main.rs               # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ tests/                    # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ Cargo.toml                # Rust ä¾èµ–é…ç½®
â”œâ”€â”€ specs/                        # é¡¹ç›®æ–‡æ¡£å’Œè§„èŒƒ
â”‚   â””â”€â”€ 001-digital-diary/
â”‚       â”œâ”€â”€ spec.md               # åŠŸèƒ½è§„èŒƒ
â”‚       â”œâ”€â”€ plan.md               # å®æ–½è®¡åˆ’
â”‚       â”œâ”€â”€ data-model.md         # æ•°æ®æ¨¡å‹
â”‚       â””â”€â”€ tasks.md              # ä»»åŠ¡åˆ—è¡¨
â”œâ”€â”€ package.json                  # Node.js ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts                # Vite é…ç½®
â””â”€â”€ README.md                     # æœ¬æ–‡ä»¶
```

## ğŸ’¾ æ•°æ®å­˜å‚¨

### æ•°æ®åº“ä½ç½®
- **æ•°æ®åº“æ–‡ä»¶**: `%LocalAppData%\DigitalDiary\database.db`
- **æˆªå›¾å­˜å‚¨**: `%LocalAppData%\DigitalDiary\screenshots\YYYY\MM\DD\`

### æ•°æ®åº“è¡¨ç»“æ„

| è¡¨å | æè¿° |
|------|------|
| `time_entries` | æ—¶é—´æ¡ç›®ï¼ˆæ ‡ç­¾ã€é¢œè‰²ã€èµ·æ­¢æ—¶é—´ï¼‰ |
| `screenshots` | æˆªå›¾å…ƒæ•°æ®ï¼ˆæ—¶é—´æˆ³ã€æ–‡ä»¶è·¯å¾„ï¼‰ |
| `window_activity` | çª—å£æ´»åŠ¨è®°å½•ï¼ˆçª—å£æ ‡é¢˜ã€è¿›ç¨‹åï¼‰ |
| `idle_periods` | ç©ºé—²æ—¶é—´æ®µè®°å½• |

## ğŸ§ª æµ‹è¯•

### Rust æµ‹è¯•

```bash
cd src-tauri

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test

# è¿è¡Œç‰¹å®šæµ‹è¯•
cargo test test_time_entry_crud

# è¿è¡Œæ€§èƒ½æµ‹è¯•
cargo test performance
```

### React æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç›‘å¬æ¨¡å¼
npm run test:watch
```

### ä»£ç æ£€æŸ¥

```bash
# Rust ä»£ç æ£€æŸ¥
cd src-tauri && cargo clippy

# Rust ä»£ç æ ¼å¼åŒ–
cd src-tauri && cargo fmt

# TypeScript ç±»å‹æ£€æŸ¥
npm run build
```

## ğŸ“Š æ€§èƒ½ç›®æ ‡

æ ¹æ®é¡¹ç›®æ€§èƒ½é¢„ç®—ï¼Œæ‰€æœ‰ç›®æ ‡å‡å·²è¾¾æˆï¼š

| æŒ‡æ ‡ | ç›®æ ‡ | å®é™… | çŠ¶æ€ |
|------|------|------|------|
| ç©ºé—²å†…å­˜ä½¿ç”¨ | <50MB | 45MB | âœ… |
| æ´»åŠ¨å†…å­˜ä½¿ç”¨ | <100MB | 55MB | âœ… |
| æ—¶é—´è½´æ¸²æŸ“ | <50ms | <50ms | âœ… |
| æˆªå›¾æ•è· | <100ms | 24ms | âœ… |
| æœç´¢æ€§èƒ½ | <1s | 16ms | âœ… |
| æ‚¬åœé¢„è§ˆ | <200ms | <200ms | âœ… |

## ğŸ“ ä½¿ç”¨æŒ‡å—

### åˆ›å»ºæ—¶é—´æ¡ç›®
1. åœ¨æ—¶é—´è½´ä¸Šç‚¹å‡»å¹¶æ‹–æ‹½é€‰æ‹©æ—¶é—´èŒƒå›´
2. åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­è¾“å…¥æ ‡ç­¾
3. é€‰æ‹©é¢œè‰²ï¼ˆå¯é€‰ï¼‰
4. ç‚¹å‡»ä¿å­˜

### æµè§ˆå†å²
- ä½¿ç”¨"å‰ä¸€å¤©"/"åä¸€å¤©"æŒ‰é’®å¯¼èˆª
- ç‚¹å‡»"ä»Šå¤©"è¿”å›å½“å‰æ—¥æœŸ
- æ—¥æœŸæ˜¾ç¤ºåœ¨é¡µé¢é¡¶éƒ¨

### æœç´¢æ´»åŠ¨
1. åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å…³é”®è¯ï¼ˆè‡³å°‘2ä¸ªå­—ç¬¦ï¼‰
2. æŸ¥çœ‹æœç´¢ç»“æœåˆ—è¡¨
3. ç‚¹å‡»ç»“æœè·³è½¬åˆ°å¯¹åº”æ—¥æœŸ

### å¯¼å‡ºæ•°æ®
1. ç‚¹å‡»"Export Data (JSON)"æŒ‰é’®
2. æ•°æ®å°†ä¸‹è½½ä¸º JSON æ–‡ä»¶
3. æ–‡ä»¶ååŒ…å«å¯¼å‡ºæ—¥æœŸ

### å¤„ç†ç©ºé—²æ—¶é—´
å½“æ£€æµ‹åˆ°ç©ºé—²æ—¶é—´åï¼š
- **Discard**: ä¿æŒä¸ºç©ºç™½æ—¶é—´æ®µ
- **Add to Previous**: åˆå¹¶åˆ°ä¸Šä¸€ä¸ªæ—¶é—´æ¡ç›®
- **Create New**: åˆ›å»ºæ–°çš„æ—¶é—´æ¡ç›®

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### å¼€å‘æµç¨‹

1. æ›´æ–°åŠŸèƒ½è§„èŒƒï¼ˆ`specs/001-digital-diary/spec.md`ï¼‰
2. åœ¨ Rust ä¸­å®ç°åç«¯é€»è¾‘
3. åœ¨ React ä¸­å®ç°å‰ç«¯ UI
4. æ·»åŠ æµ‹è¯•
5. æ›´æ–°æ–‡æ¡£

## ğŸ“„ æ–‡æ¡£

- [åŠŸèƒ½è§„èŒƒ](specs/001-digital-diary/spec.md) - è¯¦ç»†åŠŸèƒ½éœ€æ±‚
- [å®æ–½è®¡åˆ’](specs/001-digital-diary/plan.md) - é¡¹ç›®è®¡åˆ’å’Œæ¶æ„
- [æ•°æ®æ¨¡å‹](specs/001-digital-diary/data-model.md) - æ•°æ®åº“è®¾è®¡
- [ä»»åŠ¡åˆ—è¡¨](specs/001-digital-diary/tasks.md) - å®æ–½ä»»åŠ¡æ¸…å•
- [API å¥‘çº¦](specs/001-digital-diary/contracts/api.yaml) - API è§„èŒƒ

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           React Frontend                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Timeline   â”‚  â”‚  Search/Export  â”‚  â”‚
â”‚  â”‚  Component  â”‚  â”‚  Components     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Zustand    â”‚  â”‚  Tanstack Query â”‚  â”‚
â”‚  â”‚  Store      â”‚  â”‚  Data Fetching  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ Tauri IPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Rust Backend                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Time Entry CRUD                â”‚   â”‚
â”‚  â”‚  Screenshot Capture (Background)â”‚   â”‚
â”‚  â”‚  Window Activity (Background)   â”‚   â”‚
â”‚  â”‚  Idle Detection (Background)    â”‚   â”‚
â”‚  â”‚  Search & Export                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Data Storage                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SQLite     â”‚  â”‚   File System   â”‚ â”‚
â”‚  â”‚  (Metadata)  â”‚  â”‚  (Screenshots)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“œ è®¸å¯è¯

[MIT](LICENSE)

## ğŸ™ è‡´è°¢

- [Tauri](https://tauri.app/) - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- [React](https://react.dev/) - ç”¨æˆ·ç•Œé¢åº“
- [Rust](https://www.rust-lang.org/) - ç³»ç»Ÿç¼–ç¨‹è¯­è¨€
- [windows-rs](https://github.com/microsoft/windows-rs) - Windows API ç»‘å®š

---

**ç‰ˆæœ¬**: 0.1.0 (MVP)  
**æœ€åæ›´æ–°**: 2026-01-28  
**çŠ¶æ€**: âœ… Phase 0-5 å·²å®Œæˆï¼Œå¯æ„å»ºå’Œæµ‹è¯•
